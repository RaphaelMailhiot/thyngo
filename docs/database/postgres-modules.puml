@startuml

title ThynGo Modules - PostgreSQL Database Schema


database "thyngo" as thyngo{
}

entity "media" as media <<table>> {
  id : oid  {auto increment}
  slug : String
  title : String
  type : String {movie, series}
  created_at : Datetime
  updated_at : Datetime
}

entity "posts" as posts <<table>> {
  id : oid  {auto increment}
  slug : String
  title : String
  content : ContentId
  created_at : Datetime
  updated_at : Datetime
}

entity "projects" as projects <<table>> {
  id : oid  {auto increment}
  slug : String
  title : String
  content : ContentId
  created_at : Datetime
  updated_at : Datetime
}

entity "resumes" as resumes <<table>> {
  id : oid  {auto increment}
  name : String
  email : String
  phone : String
  job : String
  github : String
  linkedin : String
  website : String
  created_at : Datetime
  updated_at : Datetime
}

entity "users" as users <<table>> {
  id : oid  {auto increment}
  username : String {unique}
  email : String {unique}
  password : String
  role : String
  created_at : Datetime
  updated_at : Datetime
}

entity "blocksContents" as contents <<table>> {
  id : oid  {auto increment}
  type : String {ImageBlockId, TitleBlockId, TextBlockId, CodeBlockId, CustomBlockId}
  order : int
  created_at : Datetime
  updated_at : Datetime
}

entity "imagesBlocks" as images <<table>> {
  id : oid  {auto increment}
  type : String
  url : String
  title : String
  created_at : Datetime
  updated_at : Datetime
}

entity "titlesBlocks" as titles <<table>> {
  id : oid  {auto increment}
  level : int {1 to 6}
  content : String
  created_at : Datetime
  updated_at : Datetime
}

entity "textsBlocks" as texts <<table>> {
  id : oid  {auto increment}
  content : String
  created_at : Datetime
  updated_at : Datetime
}

entity "codesBlocks" as codes <<table>> {
  id : oid  {auto increment}
  content : String
  created_at : Datetime
  updated_at : Datetime
}

entity "customsBlocks" as customs <<table>> {
  id : oid  {auto increment}
  content : String
  created_at : Datetime
  updated_at : Datetime
}

entity "experiences" as experiences <<table>> {
  id : oid  {auto increment}
  resume : ResumeId
  job_title : String
  job_type : String
  company : String
  started_date : Datetime
  ended_date : Datetime
  location : String
  location_type : String
  description : String
  created_at : Datetime
  updated_at : Datetime
}

entity "educations" as educations <<table>> {
  id : oid  {auto increment}
  resume : ResumeId
  school : String
  diploma : String
  study_field : String
  started_date : Datetime
  ended_date : Datetime
  description : String
  created_at : Datetime
  updated_at : Datetime
}

entity "skills" as skills <<table>> {
  id : oid  {auto increment}
  resume : ResumeId
  title : String
  description : String
  created_at : Datetime
  updated_at : Datetime
}

' Modules tables
thyngo --> media
thyngo --> projects
thyngo --> posts
thyngo --> resumes
thyngo --> users

' Blocks contents related tables
projects --> contents
posts --> contents

contents --> images
contents --> titles
contents --> texts
contents --> codes
contents --> customs

' Resume related tables
resumes --> experiences
resumes --> educations
resumes --> skills

@enduml
